type: 'application'
language: 'java'
project:
  name: 'skywars'
  description: 'Skywars instance'
tasks:
  build:
    command: './gradlew shadowJar'
    inputs:
      - 'src/**/*'
      - './build.gradle'
    outputs:
        - 'build'
    deps:
      - 'gapi:local-publish'
  build-docker:
    command: 'docker build -t minki-skywars .'
    deps:
      - '~:build'
    inputs:
      - 'src/**/*'
      - 'Dockerfile'
      - 'build/libs/**/*.jar'
      - 'build.gradle'